exchanges {
  request_sequence {
    frames {
      settings_frame {
        header_table_size: 65536
        max_concurrent_streams: 1000
        initial_window_size: 6291456
        max_header_list_size: 262144
        ack: false
      }
    }
    frames {
      window_update_frame {
        window_size_increment: 15663105
      }
    }
    frames {
      headers_frame {
        pad_length: 0
        exclusive: true
        stream_dependency: 0
        weight: 146
        header_list {
          name {
            data: ":method"
            force_literal: false
            huffman: false
          }
          value {
            data: "GET"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: ":authority"
            force_literal: false
            huffman: false
          }
          value {
            data: "tags.rd.linksynergy.com"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: ":scheme"
            force_literal: false
            huffman: false
          }
          value {
            data: "https"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: ":path"
            force_literal: false
            huffman: false
          }
          value {
            data: "/js/8712/?pt=home"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "sec-ch-ua"
            force_literal: true
            huffman: false
          }
          value {
            data: "\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"98\", \"Google Chrome\";v=\"98\""
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "sec-ch-ua-mobile"
            force_literal: true
            huffman: false
          }
          value {
            data: "?0"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "user-agent"
            force_literal: false
            huffman: false
          }
          value {
            data: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.80 Safari/537.36"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "sec-ch-ua-platform"
            force_literal: true
            huffman: false
          }
          value {
            data: "\"Linux\""
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "accept"
            force_literal: false
            huffman: false
          }
          value {
            data: "*/*"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "sec-fetch-site"
            force_literal: true
            huffman: false
          }
          value {
            data: "cross-site"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "sec-fetch-mode"
            force_literal: true
            huffman: false
          }
          value {
            data: "no-cors"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "sec-fetch-dest"
            force_literal: true
            huffman: false
          }
          value {
            data: "script"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "referer"
            force_literal: false
            huffman: false
          }
          value {
            data: "https://www.udemy.com/"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "accept-encoding"
            force_literal: false
            huffman: false
          }
          value {
            data: "gzip, deflate, br"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "accept-language"
            force_literal: false
            huffman: false
          }
          value {
            data: "en-US,en;q=0.9"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "rmuid=d3e6faf7-da38-4fdf-a753-c37f447e07ca"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "icts=2021-09-09T01:56:01Z"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "pID=\"8712[coursepython-for-beginners-learn-programming-from-scratch,courselinux-heap-exploitation-part-1]1t\""
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        end_stream: true
        end_headers: true
        priority: true
        stream_id: 1
      }
    }
    frames {
      settings_frame {
        ack: true
      }
    }
    frames {
      ping_frame {
        opaque_data_lo: 0
        opaque_data_hi: 0
        ack: true
      }
    }
    frames {
      rst_stream_frame {
        error_code: 0
        stream_id: 0
      }
    }
    frames {
      ping_frame {
        opaque_data_lo: 0
        opaque_data_hi: 33554432
        ack: true
      }
    }
    frames {
      headers_frame {
        pad_length: 0
        exclusive: true
        stream_dependency: 0
        weight: 146
        header_list {
          name {
            data: ":method"
            force_literal: false
            huffman: false
          }
          value {
            data: "GET"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: ":authority"
            force_literal: false
            huffman: false
          }
          value {
            data: "tags.rd.linksynergy.com"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: ":scheme"
            force_literal: false
            huffman: false
          }
          value {
            data: "https"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: ":path"
            force_literal: false
            huffman: false
          }
          value {
            data: "/cs?ns=ttd&uid3=2e47dcfe-a2cf-4317-b747-e602981dbf20"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "sec-ch-ua"
            force_literal: false
            huffman: false
          }
          value {
            data: "\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"98\", \"Google Chrome\";v=\"98\""
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "sec-ch-ua-mobile"
            force_literal: false
            huffman: false
          }
          value {
            data: "?0"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "user-agent"
            force_literal: false
            huffman: false
          }
          value {
            data: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.80 Safari/537.36"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "sec-ch-ua-platform"
            force_literal: true
            huffman: false
          }
          value {
            data: "\"Linux\""
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "accept"
            force_literal: false
            huffman: false
          }
          value {
            data: "image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "sec-fetch-site"
            force_literal: false
            huffman: false
          }
          value {
            data: "cross-site"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "sec-fetch-mode"
            force_literal: false
            huffman: false
          }
          value {
            data: "no-cors"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "sec-fetch-dest"
            force_literal: false
            huffman: false
          }
          value {
            data: "image"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "referer"
            force_literal: false
            huffman: false
          }
          value {
            data: "https://tags.rd.linksynergy.com/"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "accept-encoding"
            force_literal: false
            huffman: false
          }
          value {
            data: "gzip, deflate, br"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "accept-language"
            force_literal: false
            huffman: false
          }
          value {
            data: "en-US,en;q=0.9"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "rmuid=d3e6faf7-da38-4fdf-a753-c37f447e07ca"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "icts=2021-09-09T01:56:01Z"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "pID=\"8712[coursepython-for-beginners-learn-programming-from-scratch,courselinux-heap-exploitation-part-1]1t\""
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        end_stream: true
        end_headers: true
        priority: true
        stream_id: 5
      }
    }
    frames {
      ping_frame {
        opaque_data_lo: 0
        opaque_data_hi: 67108864
        ack: true
      }
    }
  }
  response_sequence {
    frames {
      ping_frame {
        opaque_data_lo: 0
        opaque_data_hi: 1024
        ack: false
      }
    }
    frames {
      window_update_frame {
        window_size_increment: 1015809
      }
    }
    frames {
      settings_frame {
        header_table_size: 230
        ack: true
      }
    }
    frames {
      headers_frame {
        pad_length: 0
        exclusive: false
        stream_dependency: 0
        weight: 0
        header_list {
          name {
            data: ":status"
            force_literal: false
            huffman: false
          }
          value {
            data: "200"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "accept-ranges"
            force_literal: false
            huffman: false
          }
          value {
            data: "bytes"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "cache-control"
            force_literal: false
            huffman: false
          }
          value {
            data: "max-age=2592000, no-cache"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "content-length"
            force_literal: false
            huffman: false
          }
          value {
            data: "13909"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "content-type"
            force_literal: false
            huffman: false
          }
          value {
            data: "text/html"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "expires"
            force_literal: false
            huffman: false
          }
          value {
            data: "Fri, 11 Mar 2022 22:05:41 GMT"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "last-modified"
            force_literal: false
            huffman: false
          }
          value {
            data: "Sat, 12 Mar 2022 01:04:25 GMT"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "pragma"
            force_literal: true
            huffman: false
          }
          value {
            data: "no-cache"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "set-cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "rmuid=d3e6faf7-da38-4fdf-a753-c37f447e07ca; Path=/; Domain=linksynergy.com; Expires=Sun, 12 Mar 2023 01:04:25 GMT; Secure; SameSite=None"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "set-cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "icts=2021-09-09T01:56:01Z; Path=/; Domain=linksynergy.com; Expires=Sun, 12 Mar 2023 01:04:25 GMT; Secure; SameSite=None"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "x-samesite"
            force_literal: true
            huffman: false
          }
          value {
            data: "secure"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "date"
            force_literal: false
            huffman: false
          }
          value {
            data: "Sat, 12 Mar 2022 01:04:25 GMT"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "via"
            force_literal: false
            huffman: false
          }
          value {
            data: "1.1 google"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "alt-svc"
            force_literal: true
            huffman: false
          }
          value {
            data: "clear"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        end_stream: false
        end_headers: true
        priority: false
        stream_id: 1
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: "_mf__tag = {\n  \"init\": function() {\n    var id = \'mf__div\';\n    var script_parts = this.find_mf__tag();\n    var url = script_parts[0];\n    if (url.indexOf(\'//\') != 0) url = \'//\' + url;\n    var q_str = script_parts[1];\n    var piggy_string = this.build_piggy_query_string(q_str); // for use with piggyback mid\n    var query_string = this.build_pix_query_string(q_str);\n\n    var div = this.create_element(document, [\'div\', \'id\', id]);\n    if (div) {\n      div.style.display = \"none\";\n      var body = document.getElementsByTagName(\'body\')[0].firstChild;\n      if(body) body.parentNode.insertBefore(div, body);\n      var iframeSrc = url + \'/pix/8712?type=pos\' + query_string;\n      this.create_element(document, [\'iframe\', \'width\', \'0\', \'height\', \'0\', \'src\', iframeSrc ], div);\n      this.load_cadence(\"\");\n      this.build_parameters(piggy_string);\n       this.set_timeout(0); \n    }\n  },\n  \"create_element\": function(doc, def, parent) {\n  function local_create_element (doc, def, parent) {\n    var el = null;\n    if (typeof doc.createElementNS != \"undefined\") el = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", def[0]);\n    else if(typeof doc.createElement != \"undefined\") el = doc.createElement(def[0]);\n\n    if (!el) return false;\n\n    for (var i = 1; i < def.length; i++) el.setAttribute(def[i++], def[i]);\n\n    if (parent) parent.appendChild(el);\n    return el;\n  };\n\n  var el = local_create_element(doc, def, parent);\n\n  function localLoadScript(src) {\n    var el = document.createElement(\'script\');\n    if (el) {\n      el.setAttribute(\'type\', \'text/javascript\');\n      el.src = src;\n      document.body.appendChild(el);\n    }\n  };\n\n  if (def[0] === \"iframe\") {\n      function receiveMessage(e) {\n        if (e.origin == \"http://tags.rd.linksynergy.com\" || e.origin == \"http://tags.mediaforge.com\" ||\n            e.origin == \"https://tags.rd.linksynergy.com\" || e.origin == \"https://tags.mediaforge.com\" ||\n            e.origin == \"http://jp-tags.rd.linksynergy.com\" || e.origin == \"http://jp-tags.mediaforge.com\" ||\n            e.origin == \"https://jp-tags.rd.linksynergy.com\" || e.origin == \"https://jp-tags.mediaforge.com\" ||\n            e.origin == \"http://ut.rd.linksynergy.com\" || e.origin == \"https://ut.rd.linksynergy.com\"){\n          if (e.data.rmvalidation) {\n              if (!window._globalMids) { window._globalMids={}; };\n              if (!window._globalMids.Pix) { window._globalMids[\'Pix\'] = {}; };\n              window._globalMids.Pix[e.data.rmvalidation] = e.data.rmvalidation;\n          };\n          if (e.data.JSloadScript || (typeof(e.data) == \"string\" && e.data.indexOf(\"JSloadScript\") != -1)) {\n            if (window.addEventListener != undefined) {\n              if (e.data.JSloadScript.type == \"iframe\") {\n                // create the new iframe element with the src given to us via the event\n                local_create_element(doc, [\'iframe\', \'width\', \'0\', \'height\', \'0\', \'src\', e.data.JSloadScript.value], parent);\n              } else {\n                localLoadScript(e.data.JSloadScript.value)\n              }\n            } else if (window.attachEvent != undefined) {\n              var items = e.data.split(\",\");\n              for (var i = 0; i < items.length; i++) {\n                if (items[i] != \"\") {\n                  var subItems = items[i].split(\"|\");\n                  var key = subItems[0];\n                  var value = subItems[1];\n                  var type = subItems[2];\n                  if (key == \"JSloadScript\") {\n                    // create the new ifra"
        end_stream: false
        stream_id: 1
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: "me element with the src given to us via the event\n                    if (type == \"iframe\") {\n                      local_create_element(doc, [\'iframe\', \'width\', \'0\', \'height\', \'0\', \'src\', value], parent);\n                    } else {\n                      localLoadScript(value);\n                    }\n                  };\n                };\n              };\n            };\n          };\n        }  \n      }\n  if (window.addEventListener != undefined) {\n      window.addEventListener(\'message\', receiveMessage);\n    } else if (window.attachEvent != undefined) {\n      window.attachEvent(\'onmessage\', receiveMessage);\n    };\n  };\n  return el;\n}\n,\n  \"load_cadence\": function(cadence_id) {\n  if (cadence_id != \"\") {\n    var cadence_src = \"//js.rmtag.com/\"+cadence_id+\".ct.js\";\n    this.create_element(document, [\'script\', \'type\', \'text/javascript\', \'src\', cadence_src], div);\n  }\n},\n  \"set_timeout\": function(t) {\n    this.timeout = setTimeout(\'timeout__mf()\', t ? t : 3000);\n  },\n  \"inner_html\": function(id, html) {\n    document.getElementById(id).innerHTML = html;\n  },\n  \"build_pix_query_string\": function(q_str) {\n  // query string\n  var result = \"\";\n  if (q_str.length > 0) {\n    result = \"&\" + q_str;\n    // override rm_fire3p with test \"consent\" parameter value, if provided\n    var scrpt_params = q_str.split(\'&\');\n    for (var pindex = 0; pindex < scrpt_params.length; pindex++) {\n      var splt_param = scrpt_params[pindex].split(\'=\');\n      if (splt_param.length == 2) {\n        if (splt_param[0] == \"consent\") {\n          if (splt_param[1] == \"true\") {\n            window._rm_fire3p = true;\n          }\n          else if (splt_param[1] == \"false\") {\n            window._rm_fire3p = false;\n          }\n          break;\n        }\n      }\n    }\n  }\n  result += \"&href=\" + encodeURIComponent(location.href);\n  if (document.referrer.length > 0) result += \"&referrer=\" + encodeURIComponent(document.referrer);\n  result += \'&_rm_fire3p=\' + window._rm_fire3p;\n\n  // if gdpr in scope then pass iab consent string to pix for cookie sync check\n  if (window._gdpr_consent != undefined) {\n    result += \'&_gdpr_consent=\' + window._gdpr_consent;\n  }\n\n  return result;\n}\n,\n  \"build_piggy_query_string\": function(q_str) {\n  return \"?rmpb=8712\" + ((q_str != undefined && q_str.length > 0) ? \"&\" + q_str : \"\");\n}\n,\n  \"find_mf__tag\": function() {\n  var query_strings = [];\n  var query_string = \"\";\n  var url = \"\";\n  var scripts = document.getElementsByTagName(\'script\');\n  for (var script_index = 0; script_index < scripts.length; script_index++) {\n    var script_name = scripts[script_index].src;\n    if (typeof script_name !== \'undefined\' &&\n      (script_name.indexOf(\'rd.linksynergy.com\') !== -1 || script_name.indexOf(\'tags.mediaforge.com\') !== -1) &&\n      script_name.indexOf(\'/8712\') !== -1) {\n\n      var index = script_name.indexOf(\"?\");\n      url = \'//\' + script_name.split(\'/\')[2];\n\n      if (index > -1) {\n        query_strings.push(script_name.substr(index + 1));\n      }\n    }\n  }\n  if (query_strings.length > 1) {\n    for (var mf_idx = query_strings.length - 1; mf_idx >= 0; mf_idx--) {\n      if (query_strings[mf_idx].indexOf(\"orderNumber\") > -1) {\n        query_string = query_strings[mf_idx];\n        break\n      }\n    }\n    if (query_string.length == 0) query_string = query_strings[query_strings.length-1];\n  }\n  else if (query_strings.length == 1) query_string = query_strings[0];\n\n  return [url,query_string];\n}\n,\n  \"already_loaded\": function(mid) {\n  var dupFound = false;\n  var scripts = document.getElementsByTagName(\'script\');\n  for (var script_index = 0; script_index < scripts.length && !dupFound; script_index++) {\n    var script_name = scripts[script_index].src;\n    if (script_name.indexOf(\'tags.rd.linksynergy.com/js/\' + mid) != -1) {\n      dupFound = true;\n    }\n  }\n  return dupFound;\n}\n,\n  \"S4\": function() {\n    return (((1 + Math.random()) * 0x10000)|0).toString(16).substring(1);\n  },\n  \"guid\": function() {\n    return (this.S4() + this.S4() + this.S4() + this.S4() + this.S4() + this.S4() + this.S4() + this.S4());\n  },\n  \"readCookie\": function(cookie_name) {\nvar ca"
        end_stream: false
        stream_id: 1
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: " = document.cookie.split(\';\');\nvar cookie_value = \"\";\nvar max_merchant_keep = 10;\nfor (var i = 0; i < ca.length; i++) {\n  var c = ca[i];\n  while (c.charAt(0) == \' \') c = c.substring(1, c.length);\n  if (c.indexOf(cookie_name) == 0) {\n    cookie_value = c.substring(cookie_name.length + 1);\n    break\n  }\n}\nreturn cookie_value;\n},\n  \"createCookie\": function(name, value, days) {\nif (days) {\n  var date = new Date();\n  date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n  var expires = \"; expires=\" + date.toGMTString();\n}\nelse var expires = \"\";\ndocument.cookie = name + \"=\" + value + expires + \";path=/;domain=\" + document.domain + \";\";\n},\n  \"build_parameters\": function(query_string) {\n    var parameters = {};\n    parameters[\'pt\'] = \'\';\n    parameters[\'orderNumber\'] = \'\';\n    parameters[\'prodID\'] = \'\';\n    parameters[\'catID\'] = \'\';\n    parameters[\'cart\'] = \'\';\n    parameters[\'price\'] = \'\';\n    parameters[\'href\'] = \'\';\n    parameters[\'referrer\'] = \'\';\n    parameters[\'nan_type\'] = \'visit\';\n    parameters[\'nan_name\'] = \'landing\';\n    parameters[\'ts\'] = new Date().getTime();\n    parameters[\'uid3\'] = \"\";\n\n    if (query_string[0] === \"?\") query_string = query_string.substr(1);\n    var params = query_string.split(\'&\');\n    for (var param_index = 0; param_index < params.length; param_index++) {\n      var split_query = params[param_index].split(\'=\');\n      if (split_query.length == 2) {\n        var name = split_query[0];\n        var value = split_query[1];\n        parameters[name] = value;\n        if (name.indexOf(\'orderNumber\') != -1) {\n          parameters[\'nan_type\'] = \'purchase\';\n          parameters[\'nan_name\'] = \'main\';\n        }\n        if (name.indexOf(\'prodID\') != -1 || name.indexOf(\'catID\') != -1) {\n          parameters[\'nan_type\'] = \'user\';\n          parameters[\'nan_name\'] = \'product_view\';\n        }\n      }\n    }\n\n    this.parameters = parameters;\n  },\n  \"get_container\": function() {\n  var id = \'mf__div\';\n  var container = document.getElementById(id);\n  if (!container) container = this.create_element(document, [\'div\', \'id\', id]);\n  return container;\n}\n};\n\nfunction mf_fpidsCallback(ids) {\n\n}\n\nfunction timeout__mf() {\n\tvar t = _mf__tag.timeout;\n\tif(t) _mf__tag.inner_html(\'mf__div\', \'\');\n}\n\n\n// a utility function to retry condition evaluation using setTimeout\nfunction waitForReady(retry, fn, rdyfn) {\n\t\"use strict\";\n\tif (!rdyfn()) {\n\t\tif (retry < 1) {\n\t\t\tfn(false);\n\t\t} else {\n\t\t\twindow.setTimeout(function () {\n\t\t\t\twaitForReady(retry - 1, fn, rdyfn);\n\t\t\t}, 100);\n\t\t}\n\t} else {\n\t\tfn(true);\n\t}\n}\n\nif (window.DataLayer &&\n    window.DataLayer.consent &&\n    window.DataLayer.consent.gdpr) {\n  getConsentStatus(window.DataLayer.consent.gdpr);\n} else {\n  // the fallback code\n  var fallback = function () {\n    (function (cmpwUrl, callback, custIds) {\n      var gdprApplicable = function () { var a = [\"DE\", \"UK\", \"GB\", \"FR\", \"IT\", \"ES\", \"PL\", \"NL\", \"RO\", \"BE\", \"CZ\", \"SE\", \"HU\", \"EL\", \"GR\", \"PT\", \"AT\", \"OE\", \"DK\", \"FI\", \"SK\", \"IE\", \"BG\", \"HR\", \"LT\", \"LV\", \"SI\", \"EE\", \"CY\", \"LU\", \"MT\", \"150\", \"039\", \"151\", \"154\", \"155\"], n = [].concat(navigator.languages || []); n.push(navigator.userLanguage || navigator.language || \"\"); for (var r = null, l = 0; l < n.length; l++)for (var e = n[l].split(\"-\"), g = e.length > 6 ? 6 : e.length, t = 1; t < g; t++)if (r = !0, a.indexOf(e[t].toUpperCase()) > -1) return !0; return null == r && null },\n        wscr = document.createElement(\"script\"),\n        ip = document.getElementsByTagName(\"script\")[0],\n        ccb = { \"cb\": callback },\n        ready = function () {\n          // returns true when wrapper has been loaded\n          return window.___RMCMPW && typeof window.___RMCMPW === \"function\";\n        },\n        cont = function () {\n          // wrapper entry point, callback passed in arg\n          window.___RMCMPW(ccb);\n        },\n        rtry = 20,\n        cmpinit;\n      if (custIds) {\n        ccb.cids = custIds;\n      }\n      // the loop to test for wrapper ready\n      cmpinit = function () {\n        if (!ready()) {\n          if (rtry < 1) {\n            // retries exhausted, invoke callback with dummy consent object\n            ccb.cb({ \"status\": 3, \"isGdpr\": gdprApplicable() });\n          } else {\n            // not ready, try again in 100ms\n            rtry -= 1;\n            window.setTimeout(cmpinit, 100);\n          }\n        } else {\n          // ready - invoke wrapper\n          cont(ccb);\n        }\n      };\n      // load wrapper script\n      wscr.setAttribute(\"src\", cmpwUrl);\n      ip.parentNode.insertBefore(wscr, ip);\n\n      // initiate timeout loop\n      cmpinit();\n    }\n      (\"//intljs.rmtag.com/115557.ct.js\",\n      function (co) {\n        getConsentStatus(co);\n      }));\n  },\n    // \tthe continue process callback\n    callback = function () {\n      getConsentStatus(window.DataLayer.consent.gdpr);\n    };\n\n  // \tthe main block\n    waitForReady(20, // wait 2s for DataLayer consent object to be populated\n      function (rdy) {\n        if (rdy) {\n          callback();\n        } else {\n          fallback();\n        }\n      },\n      function () {\n        return window.DataLayer && window.DataLayer.consent && window.DataLayer.consent.gdpr;\n      });\n}\nfunction impliedConsent() {\n  return true;\n}\n\nfunction getConsentStatus(co) {\n  window._rm_fire3p = true;\n\n  // Check Consent Object Values\n  if (co.productConsents != undefined && co.productConsents.dspTrk != undefined && co.productConsents.rtbRet != undefined) {\n    if (co.productConsents.dspTrk == false && co.productConsents.rtbRet == false) return; // exit immediately, no consent provided\n    if (co.productConsents.dspTrk == true && co.productConsents.rtbRet == false) window._rm_fire3p = false; // tracking consent only\n  } else { // Check Browser Language\n    if (co.isGdpr == undef"
        end_stream: false
        stream_id: 1
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: "ined || co.isGdpr == true) {\n      if (impliedConsent() == false) return; // exit immediately, consent cannot be determined\n    }\n  }\n\n  // if firing 3p and iabConsentString exists then pass it to pix for TTD cookie sync\n  if (window._rm_fire3p && co.iabConsentString != undefined) {\n     window._gdpr_consent = encodeURIComponent(co.iabConsentString);\n  }\n\n  _mf__tag.init();\n}\n\nif (!window._globalMids) { window._globalMids={}; }\nif (!window._globalMids.Js) { window._globalMids[\'Js\'] = {}; }\nwindow._globalMids.Js[8712] = 8712;\n\n"
        end_stream: false
        stream_id: 1
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: "_mf__tag = {\n  \"init\": function() {\n    var id = \'mf__div\';\n    var script_parts = this.find_mf__tag();\n    var url = script_parts[0];\n    if (url.indexOf(\'//\') != 0) url = \'//\' + url;\n    var q_str = script_parts[1];\n    var piggy_string = this.build_piggy_query_string(q_str); // for use with piggyback mid\n    var query_string = this.build_pix_query_string(q_str);\n\n    var div = this.create_element(document, [\'div\', \'id\', id]);\n    if (div) {\n      div.style.display = \"none\";\n      var body = document.getElementsByTagName(\'body\')[0].firstChild;\n      if(body) body.parentNode.insertBefore(div, body);\n      var iframeSrc = url + \'/pix/8712?type=pos\' + query_string;\n      this.create_element(document, [\'iframe\', \'width\', \'0\', \'height\', \'0\', \'src\', iframeSrc ], div);\n      this.load_cadence(\"\");\n      this.build_parameters(piggy_string);\n       this.set_timeout(0); \n    }\n  },\n  \"create_element\": function(doc, def, parent) {\n  function local_create_element (doc, def, parent) {\n    var el = null;\n    if (typeof doc.createElementNS != \"undefined\") el = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", def[0]);\n    else if(typeof doc.createElement != \"undefined\") el = doc.createElement(def[0]);\n\n    if (!el) return false;\n\n    for (var i = 1; i < def.length; i++) el.setAttribute(def[i++], def[i]);\n\n    if (parent) parent.appendChild(el);\n    return el;\n  };\n\n  var el = local_create_element(doc, def, parent);\n\n  function localLoadScript(src) {\n    var el = document.createElement(\'script\');\n    if (el) {\n      el.setAttribute(\'type\', \'text/javascript\');\n      el.src = src;\n      document.body.appendChild(el);\n    }\n  };\n\n  if (def[0] === \"iframe\") {\n      function receiveMessage(e) {\n        if (e.origin == \"http://tags.rd.linksynergy.com\" || e.origin == \"http://tags.mediaforge.com\" ||\n            e.origin == \"https://tags.rd.linksynergy.com\" || e.origin == \"https://tags.mediaforge.com\" ||\n            e.origin == \"http://jp-tags.rd.linksynergy.com\" || e.origin == \"http://jp-tags.mediaforge.com\" ||\n            e.origin == \"https://jp-tags.rd.linksynergy.com\" || e.origin == \"https://jp-tags.mediaforge.com\" ||\n            e.origin == \"http://ut.rd.linksynergy.com\" || e.origin == \"https://ut.rd.linksynergy.com\"){\n          if (e.data.rmvalidation) {\n              if (!window._globalMids) { window._globalMids={}; };\n              if (!window._globalMids.Pix) { window._globalMids[\'Pix\'] = {}; };\n              window._globalMids.Pix[e.data.rmvalidation] = e.data.rmvalidation;\n          };\n          if (e.data.JSloadScript || (typeof(e.data) == \"string\" && e.data.indexOf(\"JSloadScript\") != -1)) {\n            if (window.addEventListener != undefined) {\n              if (e.data.JSloadScript.type == \"iframe\") {\n                // create the new iframe element with the src given to us via the event\n                local_create_element(doc, [\'iframe\', \'width\', \'0\', \'height\', \'0\', \'src\', e.data.JSloadScript.value], parent);\n              } else {\n                localLoadScript(e.data.JSloadScript.value)\n              }\n            } else if (window.attachEvent != undefined) {\n              var items = e.data.split(\",\");\n              for (var i = 0; i < items.length; i++) {\n                if (items[i] != \"\") {\n                  var subItems = items[i].split(\"|\");\n                  var key = subItems[0];\n                  var value = subItems[1];\n                  var type = subItems[2];\n                  if (key == \"JSloadScript\") {\n                    // create the new iframe element with the src given to us via the event\n                    if (type == \"iframe\") {\n                      local_create_element(doc, [\'iframe\', \'width\', \'0\', \'height\', \'0\', \'src\', value], parent);\n                    } else {\n                      localLoadScript(value);\n                    }\n                  };\n                };\n              };\n            };\n          };\n        }  \n      }\n  if (window.addEventListener != undefined) {\n      window.addEventListener(\'message\', receiveMessage);\n    } else if (window.attachEvent != undefined) {\n      window.attachEvent(\'onmessage\', receiveMessage);\n    };\n  };\n  return el;\n}\n,\n  \"load_cadence\": function(cadence_id) {\n  if (cadence_id != \"\") {\n    var cadence_src = \"//js.rmtag.com/\"+cadence_id+\".ct.js\";\n    this.create_element(document, [\'script\', \'type\', \'text/javascript\', \'src\', cadence_src], div);\n  }\n},\n  \"set_timeout\": function(t) {\n    this.timeout = setTimeout(\'timeout__mf()\', t ? t : 3000);\n  },\n  \"inner_html\": function(id, html) {\n    document.getElementById(id).innerHTML = html;\n  },\n  \"build_pix_query_string\": function(q_str) {\n  // query string\n  var result = \"\";\n  if (q_str.length > 0) {\n    result = \"&\" + q_str;\n    // override rm_fire3p with test \"consent\" parameter value, if provided\n    var scrpt_params = q_str.split(\'&\');\n    for (var pindex = 0; pindex < scrpt_params.length; pindex++) {\n      var splt_param = scrpt_params[pindex].split(\'=\');\n      if (splt_param.length == 2) {\n        if (splt_param[0] == \"consent\") {\n          if (splt_param[1] == \"true\") {\n            window._rm_fire3p = true;\n          }\n          else if (splt_param[1] == \"false\") {\n            window._rm_fire3p = false;\n          }\n          break;\n        }\n      }\n    }\n  }\n  result += \"&href=\" + encodeURIComponent(location.href);\n  if (document.referrer.length > 0) result += \"&referrer=\" + encodeURIComponent(document.referrer);\n  result += \'&_rm_fire3p=\' + window._rm_fire3p;\n\n  // if gdpr in scope then pass iab consent string to pix for cookie sync check\n  if (window._gdpr_consent != undefined) {\n    result += \'&_gdpr_consent=\' + window._gdpr_consent;\n  }\n\n  return result;\n}\n,\n  \"build_piggy_query_string\": function(q_str) {\n  return \"?rmpb=8712\" + ((q_str != undefined && q_str.length > 0) ? \"&\" + q_str : \"\");\n}\n,\n  \"find_mf__tag\": function() {\n  var query_strings = [];\n  var query_string = \"\";\n  var url = \"\";\n  var scripts = document.getElementsByTagName(\'script\');\n  for (var script_index = 0; script_index < scripts.length; script_index++) {\n    var script_name = scripts[script_index].src;\n    if (typeof script_name !== \'undefined\' &&\n      (script_name.indexOf(\'rd.linksynergy.com\') !== -1 || script_name.indexOf(\'tags.mediaforge.com\') !== -1) &&\n      script_name.indexOf(\'/8712\') !== -1) {\n\n      var index = script_name.indexOf(\"?\");\n      url = \'//\' + script_name.split(\'/\')[2];\n\n      if (index > -1) {\n        query_strings.push(script_name.substr(index + 1));\n      }\n    }\n  }\n  if (query_strings.length > 1) {\n    for (var mf_idx = query_strings.length - 1; mf_idx >= 0; mf_idx--) {\n      if (query_strings[mf_idx].indexOf(\"orderNumber\") > -1) {\n        query_string = query_strings[mf_idx];\n        break\n      }\n    }\n    if (query_string.length == 0) query_string = query_strings[query_strings.length-1];\n  }\n  else if (query_strings.length == 1) query_string = query_strings[0];\n\n  return [url,query_string];\n}\n,\n  \"already_loaded\": function(mid) {\n  var dupFound = false;\n  var scripts = document.getElementsByTagName(\'script\');\n  for (var script_index = 0; script_index < scripts.length && !dupFound; script_index++) {\n    var script_name = scripts[script_index].src;\n    if (script_name.indexOf(\'tags.rd.linksynergy.com/js/\' + mid) != -1) {\n      dupFound = true;\n    }\n  }\n  return dupFound;\n}\n,\n  \"S4\": function() {\n    return (((1 + Math.random()) * 0x10000)|0).toString(16).substring(1);\n  },\n  \"guid\": function() {\n    return (this.S4() + this.S4() + this.S4() + this.S4() + this.S4() + this.S4() + this.S4() + this.S4());\n  },\n  \"readCookie\": function(cookie_name) {\nvar ca = document.cookie.split(\';\');\nvar cookie_value = \"\";\nvar max_merchant_keep = 10;\nfor (var i = 0; i < ca.length; i++) {\n  var c = ca[i];\n  while (c.charAt(0) == \' \') c = c.substring(1, c.length);\n  if (c.indexOf(cookie_name) == 0) {\n    cookie_value = c.substring(cookie_name.length + 1);\n    break\n  }\n}\nreturn cookie_value;\n},\n  \"createCookie\": function(name, value, days) {\nif (days) {\n  var date = new Date();\n  date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n  var expires = \"; expires=\" + date.toGMTString();\n}\nelse var expires = \"\";\ndocument.cookie = name + \"=\" + value + expires + \";path=/;domain=\" + document.domain + \";\";\n},\n  \"build_parameters\": function(query_string) {\n    var parameters = {};\n    parameters[\'pt\'] = \'\';\n    parameters[\'orderNumber\'] = \'\';\n    parameters[\'prodID\'] = \'\';\n    parameters[\'catID\'] = \'\';\n    parameters[\'cart\'] = \'\';\n    parameters[\'price\'] = \'\';\n    parameters[\'href\'] = \'\';\n    parameters[\'referrer\'] = \'\';\n    parameters[\'nan_type\'] = \'visit\';\n    parameters[\'nan_name\'] = \'landing\';\n    parameters[\'ts\'] = new Date().getTime();\n    parameters[\'uid3\'] = \"\";\n\n    if (query_string[0] === \"?\") query_string = query_string.substr(1);\n    var params = query_string.split(\'&\');\n    for (var param_index = 0; param_index < params.length; param_index++) {\n      var split_query = params[param_index].split(\'=\');\n      if (split_query.length == 2) {\n        var name = split_query[0];\n        var value = split_query[1];\n        parameters[name] = value;\n        if (name.indexOf(\'orderNumber\') != -1) {\n          parameters[\'nan_type\'] = \'purchase\';\n          parameters[\'nan_name\'] = \'main\';\n        }\n        if (name.indexOf(\'prodID\') != -1 || name.indexOf(\'catID\') != -1) {\n          parameters[\'nan_type\'] = \'user\';\n          parameters[\'nan_name\'] = \'product_view\';\n        }\n      }\n    }\n\n    this.parameters = parameters;\n  },\n  \"get_container\": function() {\n  var id = \'mf__div\';\n  var container = document.getElementById(id);\n  if (!container) container = this.create_element(document, [\'div\', \'id\', id]);\n  return container;\n}\n};\n\nfunction mf_fpidsCallback(ids) {\n\n}\n\nfunction timeout__mf() {\n\tvar t = _mf__tag.timeout;\n\tif(t) _mf__tag.inner_html(\'mf__div\', \'\');\n}\n\n\n// a utility function to retry condition evaluation using setTimeout\nfunction waitForReady(retry, fn, rdyfn) {\n\t\"use strict\";\n\tif (!rdyfn()) {\n\t\tif (retry < 1) {\n\t\t\tfn(false);\n\t\t} else {\n\t\t\twindow.setTimeout(function () {\n\t\t\t\twaitForReady(retry - 1, fn, rdyfn);\n\t\t\t}, 100);\n\t\t}\n\t} else {\n\t\tfn(true);\n\t}\n}\n\nif (window.DataLayer &&\n    window.DataLayer.consent &&\n    window.DataLayer.consent.gdpr) {\n  getConsentStatus(window.DataLayer.consent.gdpr);\n} else {\n  // the fallback code\n  var fallback = function () {\n    (function (cmpwUrl, callback, custIds) {\n      var gdprApplicable = function () { var a = [\"DE\", \"UK\", \"GB\", \"FR\", \"IT\", \"ES\", \"PL\", \"NL\", \"RO\", \"BE\", \"CZ\", \"SE\", \"HU\", \"EL\", \"GR\", \"PT\", \"AT\", \"OE\", \"DK\", \"FI\", \"SK\", \"IE\", \"BG\", \"HR\", \"LT\", \"LV\", \"SI\", \"EE\", \"CY\", \"LU\", \"MT\", \"150\", \"039\", \"151\", \"154\", \"155\"], n = [].concat(navigator.languages || []); n.push(navigator.userLanguage || navigator.language || \"\"); for (var r = null, l = 0; l < n.length; l++)for (var e = n[l].split(\"-\"), g = e.length > 6 ? 6 : e.length, t = 1; t < g; t++)if (r = !0, a.indexOf(e[t].toUpperCase()) > -1) return !0; return null == r && null },\n        wscr = document.createElement(\"script\"),\n        ip = document.getElementsByTagName(\"script\")[0],\n        ccb = { \"cb\": callback },\n        ready = function () {\n          // returns true when wrapper has been loaded\n          return window.___RMCMPW && typeof window.___RMCMPW === \"function\";\n        },\n        cont = function () {\n          // wrapper entry point, callback passed in arg\n          window.___RMCMPW(ccb);\n        },\n        rtry = 20,\n        cmpinit;\n      if (custIds) {\n        ccb.cids = custIds;\n      }\n      // the loop to test for wrapper ready\n      cmpinit = function () {\n        if (!ready()) {\n          if (rtry < 1) {\n            // retries exhausted, invoke callback with dummy consent object\n            ccb.cb({ \"status\": 3, \"isGdpr\": gdprApplicable() });\n          } else {\n            // not ready, try again in 100ms\n            rtry -= 1;\n            window.setTimeout(cmpinit, 100);\n          }\n        } else {\n          // ready - invoke wrapper\n          cont(ccb);\n        }\n      };\n      // load wrapper script\n      wscr.setAttribute(\"src\", cmpwUrl);\n      ip.parentNode.insertBefore(wscr, ip);\n\n      // initiate timeout loop\n      cmpinit();\n    }\n      (\"//intljs.rmtag.com/115557.ct.js\",\n      function (co) {\n        getConsentStatus(co);\n      }));\n  },\n    // \tthe continue process callback\n    callback = function () {\n      getConsentStatus(window.DataLayer.consent.gdpr);\n    };\n\n  // \tthe main block\n    waitForReady(20, // wait 2s for DataLayer consent object to be populated\n      function (rdy) {\n        if (rdy) {\n          callback();\n        } else {\n          fallback();\n        }\n      },\n      function () {\n        return window.DataLayer && window.DataLayer.consent && window.DataLayer.consent.gdpr;\n      });\n}\nfunction impliedConsent() {\n  return true;\n}\n\nfunction getConsentStatus(co) {\n  window._rm_fire3p = true;\n\n  // Check Consent Object Values\n  if (co.productConsents != undefined && co.productConsents.dspTrk != undefined && co.productConsents.rtbRet != undefined) {\n    if (co.productConsents.dspTrk == false && co.productConsents.rtbRet == false) return; // exit immediately, no consent provided\n    if (co.productConsents.dspTrk == true && co.productConsents.rtbRet == false) window._rm_fire3p = false; // tracking consent only\n  } else { // Check Browser Language\n    if (co.isGdpr == undefined || co.isGdpr == true) {\n      if (impliedConsent() == false) return; // exit immediately, consent cannot be determined\n    }\n  }\n\n  // if firing 3p and iabConsentString exists then pass it to pix for TTD cookie sync\n  if (window._rm_fire3p && co.iabConsentString != undefined) {\n     window._gdpr_consent = encodeURIComponent(co.iabConsentString);\n  }\n\n  _mf__tag.init();\n}\n\nif (!window._globalMids) { window._globalMids={}; }\nif (!window._globalMids.Js) { window._globalMids[\'Js\'] = {}; }\nwindow._globalMids.Js[8712] = 8712;\n\n"
        end_stream: true
        stream_id: 1
      }
    }
    frames {
      ping_frame {
        opaque_data_lo: 0
        opaque_data_hi: 0
        ack: false
      }
    }
    frames {
      headers_frame {
        pad_length: 0
        exclusive: false
        stream_dependency: 0
        weight: 0
        header_list {
          name {
            data: ":status"
            force_literal: false
            huffman: false
          }
          value {
            data: "200"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "accept-ranges"
            force_literal: false
            huffman: false
          }
          value {
            data: "bytes"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "cache-control"
            force_literal: false
            huffman: false
          }
          value {
            data: "max-age=2592000, no-cache"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "content-length"
            force_literal: false
            huffman: false
          }
          value {
            data: "27199"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "content-type"
            force_literal: false
            huffman: false
          }
          value {
            data: "text/html"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "expires"
            force_literal: false
            huffman: false
          }
          value {
            data: "Fri, 11 Mar 2022 22:14:16 GMT"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "last-modified"
            force_literal: false
            huffman: false
          }
          value {
            data: "Sat, 12 Mar 2022 01:04:25 GMT"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "pragma"
            force_literal: false
            huffman: false
          }
          value {
            data: "no-cache"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "set-cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "rmuid=d3e6faf7-da38-4fdf-a753-c37f447e07ca; Path=/; Domain=linksynergy.com; Expires=Sun, 12 Mar 2023 01:04:25 GMT; Secure; SameSite=None"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "set-cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "icts=2021-09-09T01:56:01Z; Path=/; Domain=linksynergy.com; Expires=Sun, 12 Mar 2023 01:04:25 GMT; Secure; SameSite=None"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "x-samesite"
            force_literal: false
            huffman: false
          }
          value {
            data: "secure"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "date"
            force_literal: false
            huffman: false
          }
          value {
            data: "Sat, 12 Mar 2022 01:04:25 GMT"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "via"
            force_literal: false
            huffman: false
          }
          value {
            data: "1.1 google"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "alt-svc"
            force_literal: false
            huffman: false
          }
          value {
            data: "clear"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        end_stream: false
        end_headers: true
        priority: false
        stream_id: 3
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: "<html>\n  <head>\n  </head>\n  <body>\n    <div id=\"mf_pix_div\"></div>\n    <script type=\"text/javascript\">\n\n\n      (function (doc) {\n        var parameters = {};\n        var urlPixelDrops = {};\n        var DIV_ID = \'mf_pix_div\';\n        setUrlPixelDrops = function () {\n          urlPixelDrops = {\n            //\'URL\' : { \'dropType\' : \'equals\', \'pixels\' : [\'PIXEL1\', \'PIXEL2\'] }\n          }\n        };\n        setParametersDefault = function () {\n          parameters[\'orderNumber\'] = \'\';\n          parameters[\'prodID\'] = \'\';\n          parameters[\'catID\'] = \'\';\n          parameters[\'cart\'] = \'\';\n          parameters[\'price\'] = \'\';\n          parameters[\'href\'] = \'\';\n          parameters[\'referrer\'] = \'\';\n          parameters[\'nan_type\'] = \'visit\';\n          parameters[\'nan_name\'] = \'landing\';\n          parameters[\'ts\'] = new Date().getTime();\n          parameters[\'uid\'] = translateUID();\n          parameters[\'uid3\'] = readCookie(\'uid3\');\n          parameters[\'facebook\'] = {\n            \'id\': \'\'\n          };\n          parameters[\'snapchat\'] = {\n           \'id\': \'cd2a3bb9-1033-49f1-a044-f1699fe0a72f\'\n          };\n          // JS calls will be transitioned into here.\n          parameters[\'nextperf\'] = {\n            \'home\' : \'\',\n            \'prod\' : \'\',\n            \'cart\' : \'\',\n            \'cat\'  : \'\',\n            \'conv\' : \'\'\n          };\n        };\n        createCookie = function (name, value, days) {\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n    var expires = \"; expires=\" + date.toGMTString();\n  }\n  else var expires = \"\";\n  document.cookie = name + \"=\" + value + expires + \";path=/;domain=.rd.linksynergy.com;\";\n};\nreadCookie = function (cookie_name) {\n  var ca = doc.cookie.split(\';\');\n  var cookie_value = \"\";\n  var max_merchant_keep = 10;\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == \' \') c = c.substring(1, c.length);\n    if (c.indexOf(cookie_name) == 0) {\n      cookie_value = c.substring(cookie_name.length + 1);\n      break\n    }\n  }\n  return cookie_value;\n};\nUserId = function() {\n  return readCookie(\'rmuid\')\n};\n\n        drop_js = function(pixel) {\n  var body = document.getElementsByTagName(\'body\')[0].firstChild;\n  var script_jsTag = document.createElement(\'script\');\n  if(script_jsTag) {\n    script_jsTag.setAttribute(\'type\', \'text/javascript\');\n    script_jsTag.src = pixel;\n    if(body) body.parentNode.insertBefore(script_jsTag, body);\n  };\n};\n\ndrop_img = function(pixel) {\n  var body = document.getElementsByTagName(\'body\')[0].firstChild;\n  var img_tag = document.createElement(\'img\');\n  if(img_tag) {\n    img_tag.src = pixel;\n    if(body) body.parentNode.insertBefore(img_tag, body);\n  };\n};\n\n// also include pix file load script on parent page function\n// may want to use a new segment\n// see TRACK-273\nJSloadScript = function(url, type) {\n  if (window.parent.postMessage != undefined) {\n    if (window.addEventListener != undefined) {\n      window.parent.postMessage({\'JSloadScript\': {\'value\': url, \'type\': type}}, \'*\');\n    } else if (window.attachEvent != undefined) {\n      // IE8 and IE9 convert objects to strings when passed via postMessage, so...\n      // we have to serialize and de-serialize the object ourselves\n      window.parent.postMessage(\"JSloadScript|\" + url+ \"|\" + type + \",\", \'*\');\n    };\n  };\n};\n\n        admin_pixels = function(params, have_cart) {\n  function extractHostname(url) {\n    var hostname;\n\n    if (url.indexOf(\'://\') > -1) {\n      hostname = url.split("
        end_stream: false
        stream_id: 3
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: "\'/\')[2];\n    } else {\n      hostname = url.split(\'/\')[0];\n    }\n\n    hostname = hostname.split(\':\')[0];\n    hostname = hostname.split(\'?\')[0];\n\n    return hostname;\n  }\n\n  function extractRootDomain(url) {\n    var domain = extractHostname(url);\n    var splitArr = domain.split(\'.\');\n    var arrLen = splitArr.length;\n\n    if (arrLen > 2) {\n      domain = splitArr[arrLen - 2] + \".\" + splitArr[arrLen - 1];\n      if (splitArr[arrLen - 2].length === 2 && splitArr[arrLen - 1].length === 2) {\n        domain = splitArr[arrLen - 3] + \".\" + domain;\n      }\n    }\n    return domain;\n  }\n\n  /*Nanigans variables*/\n  var rm_fire3p = params[\'_rm_fire3p\'];\n  var mf_uID = params[\'uid\'];\n  var mf_uID3 = params[\'uid3\'];\n  var mf_price = params[\'cart\'];\n  var mf_ordernumber = params[\'orderNumber\'];\n  var mf_prod_id = params[\'prodID\'];\n  var mf_cat_id = params[\'catID\'];\n  var mf_type = params[\'nan_type\'];\n  var mf_name = params[\'nan_name\'];\n  var mf_referrer = params[\'referrer\'];\n  var mf_href = params[\'href\'];\n  var mf_aid = \'\';\n  var mf_ts = params[\'ts\'];\n\n  if (mf_ordernumber != \'\') {\n    mf_price = params[\'price\'];\n  };\n\n // Don\'t load pixels if this file has been loaded as a piggyback.\n for(key in params) {\n   if(key == \"rmpb\" && params[key] != \'\') {\n     return \'\';\n   }\n }\n\n  var tags = {};\n  var content = \'\';\n\n  if (have_cart === true) {\n    tags = { \n    };\n  } else {\n    tags = { \n    };\n  }\n\n  // TODO: Consolidate internalDomain list\n  var internalDomains=[\"linksynergy.com\", \"dpclk.com\", \"nxtck.com\", \"mediaforge.com\", \"jrs5.com\", \"dc-storm.com\", \"linksynergy.walmart.com\"];\n\n  for(var tag_id in tags) {\n    var pixel = tags[tag_id];\n    var found1p = false;\n    if(!rm_fire3p) {\n      if(pixel !== \"\") {\n        var pixelDomain = extractRootDomain(pixel)\n        if (internalDomains.indexOf(pixelDomain) > -1) {\n          found1p = true;\n        }\n      }\n    }\n    if(rm_fire3p || found1p) {\n      if(pixel.indexOf(\'/js/\') != -1 || pixel.indexOf(\'/js?\') != -1) {\n        drop_js(\"//\" + pixel);\n      }\n      else {\n        content += \"<img id=\\\"\" + tag_id + \"\\\" src=\\\"//\" + pixel + \"\\\" height=\\\"0\\\" width=\\\"0\\\" alt=\\\"\\\"/>\";\n      }\n    }\n  }\n  return content;\n}\n\n        handleNextPerf = function() {\n  // Don\'t call NextPerf when tracking consent only\n  if(parameters[\'_rm_fire3p\'] == false) { return };\n\n  var next_perf = parameters[\'nextperf\'];\n\n  var ptype = parameters[\'pt\'];\n  if (ptype === \'\' || ptype === undefined ) {\n    if (parameters[\'orderNumber\'] != \'\' && parameters[\'price\'] != \'\') {\n      ptype = \'conv\';\n    } else if (parameters[\'cart\'] != \'\') {\n      ptype = \'cart\';\n    } else if (parameters[\'catID\'] != \'\') {\n      ptype = \'cat\';\n    } else if (parameters[\'prodID\'] != \'\') {\n      ptype = \'prod\';\n    } else if (parameters[\'nan_type\'] == \'visit\') {\n      ptype = \'home\';\n    } else if (parameters[\'minibasket\'] == \'\') {\n      // for JuiceBeauty. see ticket IN-10139\n      ptype = \'minibasket\';\n    }\n  }\n\n  // Special code condition for Lacoste.\n  // Do not change this code until they have been moved to SPI.\n  switch (ptype) {\n    case \'category\': ptype = \'cat\';  break;\n    case \'product\':  ptype = \'prod\'; break;\n  }\n\n  if (next_perf[ptype] === \'\') { return };\n\n  var domain = next_perf[\'domain\'] || \'act-us.rd.linksynergy.com\';\n  var script_src = \"//\" + domain + \"/act.php?tag=\" + next_perf[ptype];\n\n  // added to double track on the new Unified Tracking endpoint(s)\n  var ut_script_src = \"//ut.rd.linksynergy.com/t?rmch=np&engine=pix&tag=\" + next_perf[ptype];\n\n  if(parameters[\'r1\'] != undefined) { \n    script_src    += \"&r1=\" + parameters[\'r1\']; \n    ut_script_src += \"&r1=\" + parameters[\'r1\']; \n  }\n  if(parameters[\'s1\'] != undefined) { \n    script_src    += \"&s1=\" + parameters[\'s1\'];\n    ut_script_src += \"&s1=\" + parameters[\'s1\'];\n  }\n  // for webjet7186. See ticket IN-8186: s2-s8,d1,d2,i1,i2\n  if(parameters[\'s2\'] != undefined) {\n    script_src    += \"&s2=\" + parameters[\'s2\'];\n    ut_script_src += \"&s2=\" + parameters[\'s2\'];\n  }\n  if(parameters[\'s3\'] != undefined) {\n    script_src    += \"&s3=\" + parameters[\'s3\'];\n    ut_script_src += \"&s3=\" + p"
        end_stream: true
        stream_id: 3
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: "arameters[\'s3\'];\n  }\n  if(parameters[\'s4\'] != undefined) {\n    script_src    += \"&s4=\" + parameters[\'s4\'];\n    ut_script_src += \"&s4=\" + parameters[\'s4\'];\n  }\n  if(parameters[\'s5\'] != undefined) {\n    script_src    += \"&s5=\" + parameters[\'s5\'];\n    ut_script_src += \"&s5=\" + parameters[\'s5\'];\n  }\n  if(parameters[\'s6\'] != undefined) {\n    script_src    += \"&s6=\" + parameters[\'s6\'];\n    ut_script_src += \"&s6=\" + parameters[\'s6\'];\n  }\n  if(parameters[\'s7\'] != undefined) { \n    script_src    += \"&s7=\" + parameters[\'s7\'];\n    ut_script_src += \"&s7=\" + parameters[\'s7\'];\n  }\n  if(parameters[\'s8\'] != undefined) {\n    script_src    += \"&s8=\" + parameters[\'s8\'];\n    ut_script_src += \"&s8=\" + parameters[\'s8\'];\n  }\n  if(parameters[\'d1\'] != undefined) {\n    script_src    += \"&d1=\" + parameters[\'d1\'];\n    ut_script_src += \"&d1=\" + parameters[\'d1\'];\n  }\n  if(parameters[\'d2\'] != undefined) {\n    script_src    += \"&d2=\" + parameters[\'d2\'];\n    ut_script_src += \"&d2=\" + parameters[\'d2\'];\n  }\n  if(parameters[\'i1\'] != undefined) {\n    script_src    += \"&i1=\" + parameters[\'i1\'];\n    ut_script_src += \"&i1=\" + parameters[\'i1\'];\n  }\n  if(parameters[\'i2\'] != undefined) {\n    script_src    += \"&i2=\" + parameters[\'i2\'];\n    ut_script_src += \"&i2=\" + parameters[\'i2\'];\n  }\n  // for bosene6781. See ticket IN-7397\n  if(parameters[\'s\'] != undefined) {\n    script_src    += \"&s1=\" + parameters[\'s\'];\n    ut_script_src += \"&s1=\" + parameters[\'s\'];\n  }\n  // for landse6993. See ticket IN-8602\n  if(parameters[\'b1\'] != undefined) {\n    script_src    += \"&b1=\" + parameters[\'b1\'];\n    ut_script_src += \"&b1=\" + parameters[\'b1\'];\n  }\n  //for webjet7186. See ticket IN-8811\n  if(parameters[\'price\'] != undefined) {\n    script_src    += \"&mt=\" + parameters[\'price\'];\n    ut_script_src += \"&mt=\" + parameters[\'price\'];\n  }\n\n  var drop = true;\n\n  switch (ptype) {\n    case \'conv\':\n      script_src += \"&id=\" + parameters[\'orderNumber\'];\n      script_src += \"&tvalid=\" + (next_perf[\'tvalid_func\'] ? next_perf[\'tvalid_func\']() : (parameters[\'tvalid\'] || \'0\'));\n\n      // added to double track on the new Unified Tracking endpoint(s)\n      ut_script_src += \"&id=\" + parameters[\'orderNumber\'];\n      ut_script_src += \"&tvalid=\" + (next_perf[\'tvalid_func\'] ? next_perf[\'tvalid_func\']() : (parameters[\'tvalid\'] || \'0\'));\n      \n      if (parameters[\'prodID\'] != \'\') {\n        script_src    += \"&pid=\" + parameters[\'prodID\'];\n        ut_script_src += \"&pid=\" + parameters[\'prodID\'];\n      }\n      break;\n    case \'cart\':\n      if (parameters[\'prodID\'] != \'\') {\n        script_src    += \"&pid=\" + parameters[\'prodID\'];\n        ut_script_src += \"&pid=\" + parameters[\'prodID\'];\n      }\n      break;\n    case \'cat\':\n      script_src    += \"&cid=\" + parameters[\'catID\'];\n      ut_script_src += \"&cid=\" + parameters[\'catID\'];\n      if (parameters[\'prodID\'] != \'\') {\n        script_src    += \"&pid=\" + parameters[\'prodID\'];\n        ut_script_src += \"&pid=\" + parameters[\'prodID\'];\n      }\n      break;\n    case \'prod\':\n      script_src    += \"&pid=\" + parameters[\'prodID\'];\n      ut_script_src += \"&pid=\" + parameters[\'prodID\'];\n      break;\n    case \'home\':\n      break;\n    case \'minibasket\':\n      // for JuiceBeauty. see ticket IN-10139\n      if (parameters[\'prodID\'] != \'\') {\n        script_src    += \"&pid=\" + parameters[\'prodID\'];\n        ut_script_src += \"&pid=\" + parameters[\'prodID\'];\n      }\n      break;\n    default:\n      drop = false;\n      break;\n  }\n\n  if (drop) {\n    drop_js(script_src);\n    drop_img(ut_script_src);\n  }\n};\n\n        loadScript = function(src) {\n  var el = document.createElement(\'script\');\n  if (el) {\n    el.setAttribute(\'type\', \'text/javascript\');\n    el.src = src;\n    document.body.appendChild(el);\n  }\n};\n\n\n        translateUID = function () {\n  var uid = readCookie(\'uID\');\n  var new_uid = \"\";\n  for (var i = 0; i < uid.length; i++) {\n    var uid_char = uid.charAt(i).charCodeAt();\n    if ((uid_char < 48) || (uid_char > 122) || ((uid_char > 57) && (uid_char < 65)) || ((uid_char > 90) && (uid_char < 97))) {\n      if (uid_char == 43) new_uid += \"mfplusmf\";\n      if (uid_char == 61) new_uid += \"mfequalmf\";\n      if (uid_char == 47) new_uid += \"mfslashmf\";\n      if (uid_char == 45) new_uid += \"mfhyphenmf\";\n    }\n    else {\n      new_uid += uid.charAt(i);\n    }\n  }\n  return new_uid;\n};\n        checkForProductCount = function (cookie_name, min_prod_count) {\n  var result = false;\n  var prodCookieVal = readCookie(\'pID\');\n  if (prodCookieVal != \'\') {\n    var cookie_array = prodCookieVal.split(\'|\');\n    // TODO: Replace \"... .MerchantID ...\" with the dev equivalent of \"... .ParentMerchantID ...\" once implemented in tag producer. This function doesn\'t work for children in Linksynergy\n    var mid = \'8712\';\n    var mid_count = 0;\n    for (var prod_idx in cookie_array) {\n      // cookie_array[prod_idx] is formatted X[Y,Y,Y]Z -- Split on [, then ], gives us the MID and the array of Y. We can ignore Z\n      var cookieMidAndRest = cookie_array[prod_idx].split(\'[\');\n      if (cookieMidAndRest.length < 2) continue;\n      // Handle the case of a prodID having a ] -- Pop off the MID then join on empty string to get the \"rest\"\n      var cookieMid = cookieMidAndRest.shift();\n      var rest = cookieMidAndRest.join(\'[\');\n      var fromEnd = rest.lastIndexOf(\']\');\n      var prods = rest.substring(0, fromEnd);\n\n      if (cookieMid == mid) {\n        var productArray = prods.split(\',\');\n        mid_count += productArray.length;\n      }\n    }\n    if (mid_count >= min_prod_count) {\n      result = true;\n    }\n  }\n  return result;\n}\n\n        parseQueryString = function () {\n  var params = location.search.split(\'&\');\n  for (var param_index = 0; param_index < params.length; param_index++) {\n    var split_query = params[param_index].split(\'=\');\n    if ("
        end_stream: false
        stream_id: 3
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: "split_query.length === 2) {\n      var name = split_query[0];\n      var value = split_query[1];\n      var q_index = name.indexOf(\'?\');\n      if(q_index == 0) {\n        name = name.substring(1);\n      }\n      parameters[name] = value;\n      if (name.indexOf(\'orderNumber\') !== -1) {\n        parameters[\'nan_type\'] = \'purchase\';\n        parameters[\'nan_name\'] = \'main\';\n      }\n      if (name.indexOf(\'prodID\') !== -1) {\n        parameters[\'nan_type\'] = \'user\';\n        parameters[\'nan_name\'] = \'product_view\';\n      }\n      if (name.indexOf(\'catID\') !== -1) {\n        parameters[\'nan_type\'] = \'user\';\n        parameters[\'nan_name\'] = \'product_view\';\n      }\n    }\n  }\n  parameters[\'_rm_fire3p\'] = (parameters[\'_rm_fire3p\'] == null || parameters[\'_rm_fire3p\'] == \'undefined\' || parameters[\'_rm_fire3p\'] == \'true\');\n};\n\n        processtags = function () {\n          setParametersDefault();\n          parseQueryString();\n          setUrlPixelDrops();\n          handleNextPerf();\n          // temp variables for pixel calls\n          var rm_fire3p = parameters[\'_rm_fire3p\'];\n          var gdpr_consent = parameters[\'_gdpr_consent\'];\n          var mf_uID = parameters[\'uid\'];\n          var mf_uID3 = parameters[\'uid3\'];\n          var mf_price = parameters[\'cart\'];\n          var mf_ordernumber = parameters[\'orderNumber\'];\n          var mf_prod_id = parameters[\'prodID\'];\n          var mf_cat_id = parameters[\'catID\'];\n          var mf_type = parameters[\'nan_type\'];\n          var mf_name = parameters[\'nan_name\'];\n          var have_cart = (parameters[\'cart\'] != \'\');\n\n          if (mf_ordernumber != \'\') mf_price = parameters[\'price\'];\n\n          var content = \'\';\n\n          if(!rm_fire3p) content = \"\";\n          content += \"\" + ((typeof rm_fire3p == \"undefined\" || rm_fire3p) ? \"<img src=\'//match.adsrvr.org/track/cmf/generic?ttd_pid=1i071nc&ttd_tpi=1\" + ( typeof gdpr_consent !== \"undefined\" && gdpr_consent !== null && gdpr_consent !== \"\" ? (\"&gdpr=1&gdpr_consent=\" + gdpr_consent ) : \"\" ) + \"\' height=\'0\' width=\'0\' alt=\'\' />\" : \"\") + \"\" + (((typeof rm_fire3p == \"undefined\" || rm_fire3p) && UserId() != \"\") ? \"<img src=\'//idsync.rlcdn.com/458359.gif?partner_uid=\" + UserId() + \"\' height=\'0\' width=\'0\' alt=\'\' />\" : \"\") + \"\";\n          content += appendUrlPixels(rm_fire3p);\n          content += admin_pixels(parameters, have_cart);\n          document.getElementById(DIV_ID).innerHTML = content;\n\n          if(rm_fire3p) implementFacebook();\n          if(rm_fire3p) implementSnapchat();\n        };\n\n        implementFacebook = function () {\n  var fb = parameters[\'facebook\'];\n  if (fb.id == \'\') return;\n\n  !function (f, b, e, v, n, t, s) {\n    if (f.fbq) return; n = f.fbq = function () { n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments) }\n      ; if (!f._fbq) f._fbq = n;\n    n.push = n; n.loaded = !0; n.version = \'2.0\'; n.queue = []; t = b.createElement(e); t.async = !0;\n    t.src = v; s = b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t, s)\n  }(window,\n    document, \'script\', \'//connect.facebook.net/en_US/fbevents.js\');\n  fbq(\'init\', fb.id);\n  var defaultEvents = facebookEvents({});\n\n  if (fb.defaults != false) {\n    for (e in fb.events) {\n      // use default events overrides if they were provided\n      if (defaultEvents[e]) {\n        var f = fb.events[e]\n        if (f.condition) {\n          defaultEvents[e].condition = f.condition\n        }\n        if (f.payload) {\n          defaultEvents[e].payload = f.payload\n        }\n      }\n    }\n    // use default events\n    fb.events = defaultEvents\n  }\n\n  for (e in fb.events) {\n    var f = fb.events[e]\n    if (f && f.condition(parameters)) {\n      if (f.payload) {\n        fbq(\'track\', e, f.payload(parameters));\n      } else {\n        fbq(\'track\', e);\n      }\n    }\n  }\n};\n\n// replacements is an object with keys indicating desired value substitutions\n// example: {\'content_type\': \'product_group\'}\nfacebookEvents = function (replacements) {\n  // content_type default is \'product\'\n  var content_type = \'product\';\n  if (replacements.content_type) {\n    content_type = replacements.content_type\n  };\n\n "
        end_stream: false
        stream_id: 3
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: " // currency default is \'USD\'\n  var currency = \'USD\';\n  if (replacements.currency) {\n    currency = replacements.currency\n  };\n\n  decodeProducts = function (prodID, products) {\n    var decoded = decodeURIComponent(prodID);\n    products = decoded.split(\',\');\n    return products;\n  }\n\n  return {\n    \'PageView\': { \'condition\': function (params) { return true; } },\n    \'ViewContent\': {\n      \'condition\': function (params) {\n        if (params[\'pt\'] != undefined && params[\'pt\'] == \'cat\' || params[\'pt\'] == \'cart\') {\n          return false\n        }\n        return params[\'prodID\'] != undefined && params[\'prodID\'] != \'\'\n      },\n      \'payload\': function (params) {\n        var products = [];\n        if (params[\'prodID\'] != undefined && params[\'prodID\'] != \'\') {\n          products = decodeProducts(params[\'prodID\'], products);\n        }\n        return { \'content_type\': content_type, \'content_ids\': products }\n      }\n    },\n    \'AddToCart\': {\n      \'condition\': function (params) { return params[\'cart\'] != \'\' },\n      \'payload\': function (params) {\n        var products = [];\n        if (params[\'prodID\'] != undefined && params[\'prodID\'] != \'\') {\n          products = decodeProducts(params[\'prodID\'], products);\n        }\n        if (products.length > 0) {\n          return { \'value\': params[\'cart\'], \'currency\': currency, \'content_type\': content_type, \'content_ids\': products };\n        } else {\n          return {};\n        }\n      }\n    },\n    \'InitiateCheckout\': {\n      \'condition\': function (params) {\n        if (params[\'pt\'] != undefined && params[\'pt\'] == \'checkout\') {\n          return true;\n        }\n      }\n    },\n    \'Purchase\': {\n      \'condition\': function (params) { return params[\'orderNumber\'] != \'\' && params[\'price\'] != \'\' },\n      \'payload\': function (params) {\n        var products = [];\n        if (params[\'prodID\'] != undefined && params[\'prodID\'] != \'\') {\n          products = decodeProducts(params[\'prodID\'], products);\n        }\n        // IN-9677 Facebook is rejecting symbols from price this included commas and negative values\n        var price = params[\'price\'].replace(\',\', \'\');\n        if (price < 0) { price = 0.00 }\n        // End update from IN-9677\n        return { \'value\': price, \'currency\': currency, \'content_ids\': products, \'content_type\': content_type }\n      }\n    }\n  }\n}\n\n        implementSnapchat = function () {\n  var snap = parameters[\"snapchat\"];\n  if (snap.id == \"\") return;\n  (function (win, doc, sdk_url) {\n    if (win.snaptr) return;\n    var tr = (win.snaptr = function () {\n      tr.handleRequest\n        ? tr.handleRequest.apply(tr, arguments)\n        : tr.queue.push(arguments);\n    });\n    tr.queue = [];\n    var s = \"script\";\n    var new_script_section = doc.createElement(s);\n    new_script_section.async = !0;\n    new_script_section.src = sdk_url;\n    var insert_pos = doc.getElementsByTagName(s)[0];\n    insert_pos.parentNode.insertBefore(new_script_section, insert_pos);\n  })(window, document, \"https://sc-static.net/scevent.min.js\");\n  snaptr(\"init\", snap.id);\n  var defaultEvents = snapchatEvents({});\n\n  if (snap.defaults != false) {\n    for (e in snap.events) {\n      // use default events overrides if they were provided\n      if (defaultEvents[e]) {\n        var c = snap.events[e];\n        if (c.condition) {\n          defaultEvents[e].condition = c.condition;\n        }\n        if (c.payload) {\n          defaultEvents[e].payload = c.payload;\n        }\n      }\n    }\n    // use default events\n    snap.events = defaultEvents;\n  }\n\n  for (e in snap.events) {\n    var c = snap.events[e];\n    if (c && c.condition(parameters)) {\n      if (c.payload) {\n        snaptr(\"track\", e, c.payload(parameters));\n      } else {\n        snaptr(\"track\", e);\n      }\n    }\n  }\n};\n\n// replacements is an object with keys indicating desired value substitutions\n// example: {\'item_category\': \'product_group\'}\nsnapchatEvents = function (replacements) {\n  // currency default is \'USD\'\n  var currency = \"USD\";\n  if (replacements.currency) {\n    currency = replacements.currency;\n  }\n\n  return {\n    \'PAGE_VIEW\': {\n      condition: function (params) {\n        return (\n          (params[\"pt\"] != undefined && params[\"pt\"] === \"home\") ||\n          params[\"pt\"] === \"prod\" ||\n          params[\"pt\"] === \"cat\"\n        );\n      }\n    },\n    \'VIEW_CONTENT\': {\n      condition: function (params) {\n        return (\n          params[\"pt\"] != undefined &&\n          params[\"pt\"] === \"prod\" &&\n          params[\"prodID\"] != \"\"\n        );\n      },\n      payload: function (params) {\n        var products = [];\n        if (params[\"prodID\"] != undefined && params[\"prodID\"] != \"\") {\n          products = params[\"prodID\"].split(\",\");\n          category = params[\"catID\"];\n        }\n        return { item_category: category, item_ids: products };\n      },\n    },\n    \'ADD_CART\': {\n      condition: function (params) {\n        return (\n          params[\"pt\"] != undefined &&\n          params[\"pt\"] === \"cart\" &&\n          params[\"cart\"] != \"\"\n        );\n      },\n      payload: function (params) {\n        var products = [];\n        if (params[\"prodID\"] != undefined && params[\"prodID\"] != \"\") {\n          products = params[\"prodID\"].split(\",\");\n          category = params[\"catID\"];\n        }\n        if (products.length > 0) {\n          return { item_category: category, item_ids: products };\n        } else {\n          return {};\n        }\n      },\n    },\n    // Requires a hashed email but currently we don\'t pass this param\n    \'SIGN_UP\': {\n      condition: function (params) {\n        return params[\"pt\"] != undefined && params[\"pt\"] === \"sign_up\";\n      },\n      payload: function (params) {\n        var hashedEmail = \"\";\n        return { user_email: hashedEmail };\n      },\n    },\n    \'PURCHASE\': {\n      condition: function (params) {\n        return (\n          params[\"pt\"] != undefined &&\n          params[\"pt\"] === \"conv\" &&\n          params[\"orderNumber\"] != \"\" &&\n          params[\"price\"] != \"\"\n        );\n      },\n      payload: function (params) {\n        var products = [];\n        if (params[\"prodID\"] != undefined && params[\"prodID\"] != \"\") {\n          products = params[\"prodID\"].split(\",\");\n          category = params[\"catID\"];\n        }\n        return {\n          price: params[\"price\"],\n          currency: currency,\n          item_ids: products,\n          item_category: category,\n        };\n      },\n    }\n  };\n};\n\n        appendUrlPixels = function (rm_fire3p) {\n  function extractHostname(url) {\n    var hostname;\n\n    if (url.indexOf(\'://\') > -1) {\n      hostname = url.split(\'/\')[2];\n    } else {\n      hostname = url.split(\'/\')[0];\n    }\n\n    hostname = hostname.split(\':\')[0];\n    hostname = hostname.split(\'?\')[0];\n\n    return hostname;\n  }\n\n  function extractRootDomain(url) {\n    var domain = extractHostname(url);\n    var splitArr = domain.split(\'.\');\n    var arrLen = splitArr.length;\n\n    if (arrLen > 2) {\n      domain = splitArr[arrLen - 2] + \".\" + splitArr[arrLen - 1];\n      if (splitArr[arrLen - 2].length === 2 && splitArr[arrLen - 1].length === 2) {\n        domain = splitArr[arrLen - 3] + \".\" + domain;\n      }\n    }\n    return domain;\n  }\n\n  var content = \'\';\n  for (var url in urlPixelDrops) {\n    if (urlPixelDrops.hasOwnProperty(url)) {\n      var dropObject = urlPixelDrops[url];\n      var dropCheck = null;\n      switch (dropObject.dropType) {\n        case \'equals\':\n          dropCheck = function (href, url) {\n            return href == encodeURIComponent(url)\n          };\n          break;\n        case \'contains\':\n          dropCheck = function (href, url) {\n            return href.indexOf(encodeURIComponent(url)) != -1\n          };\n          break;\n        case \'without_querystrings\':\n          dropCheck = function (href, url) {\n            var baseUrl = decodeURIComponent(href).split(\'?\')[0];\n            return baseUrl === url;\n          };\n          break;\n      }\n\n      // TODO: Consolidate internalDomain list\n      var internalDomains=[\"linksynergy.com\", \"dpclk.com\", \"nxtck.com\", \"mediaforge.com\", \"jrs5.com\", \"dc-storm.com\", \"linksynergy.walmart.com\"];\n\n      if (dropCheck(parameters[\'href\'], url)) {\n        var pixelArray = dropObject[\'pixels\'];\n        if (!(pixelArray instanceof"
        end_stream: false
        stream_id: 3
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: " Array)) pixelArray = [pixelArray];\n        for (var pixel in pixelArray) {\n          var pix = pixelArray[pixel];\n          var found1p = false;\n          if(!rm_fire3p) {\n            if(pixel !== \"\") {\n              var pixelDomain = extractRootDomain(pixel)\n              if (internalDomains.indexOf(pixelDomain) > -1) {\n                found1p = true;\n              }\n            }\n          }\n          if(rm_fire3p || found1p) {\n            if(pix.indexOf(\'/js/\') != -1 || pix.indexOf(\'/js?\') != -1) {\n              drop_js(\"//\" + pix);\n            }\n            else {\n              content += \"<img src=\'//\" + pix + \"\' height=\'1\' width=\'1\' alt=\'\' />\";\n            }\n          }\n        }\n      }\n    }\n  }\n  return content;\n};\n\n        optOut = function () {\n  var result = false;\n  var optOut = \"opt-out\";\n  var ca = doc.cookie.split(\';\');\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == \' \') c = c.substring(1, c.length);\n    var parts = c.split(\'=\'); if (parts.length == 2 && parts[0] == optOut && parts[1] == optOut) result = true;\n  }\n  return result;\n};\n\nif (optOut()) {\n  createCookie(\'pID\', \'\', -1);\n  createCookie(\'cID\', \'\', -1);\n}\nelse {\n  processtags();\n}\n        if (!window._globalMids) { window._globalMids={}; }\nif (!window._globalMids.Pix) { window._globalMids[\'Pix\'] = {}; }\nwindow._globalMids.Pix[8712] = 8712;\nif (window.parent.postMessage != undefined) {\n  window.parent.postMessage({\'rmvalidation\': 8712}, \'*\');\n};\n\n      })(document);\n    </script>\n  </body>\n</html>\n"
        end_stream: false
        stream_id: 3
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: ""
        end_stream: true
        stream_id: 3
      }
    }
    frames {
      ping_frame {
        opaque_data_lo: 0
        opaque_data_hi: 33554432
        ack: false
      }
    }
    frames {
      headers_frame {
        pad_length: 0
        exclusive: false
        stream_dependency: 0
        weight: 0
        header_list {
          name {
            data: ":status"
            force_literal: false
            huffman: false
          }
          value {
            data: "200"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "set-cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "rmuid=d3e6faf7-da38-4fdf-a753-c37f447e07ca; Path=/; Domain=linksynergy.com; Expires=Sun, 12 Mar 2023 01:04:25 GMT; Secure; SameSite=None"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "set-cookie"
            force_literal: false
            huffman: false
          }
          value {
            data: "icts=2021-09-09T01:56:01Z; Path=/; Domain=linksynergy.com; Expires=Sun, 12 Mar 2023 01:04:25 GMT; Secure; SameSite=None"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "x-samesite"
            force_literal: false
            huffman: false
          }
          value {
            data: "secure"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "date"
            force_literal: false
            huffman: false
          }
          value {
            data: "Sat, 12 Mar 2022 01:04:25 GMT"
            force_literal: true
            huffman: false
          }
          indexing: WITHOUT_INDEX
        }
        header_list {
          name {
            data: "content-length"
            force_literal: false
            huffman: false
          }
          value {
            data: "37"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "content-type"
            force_literal: false
            huffman: false
          }
          value {
            data: "image/gif"
            force_literal: true
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "via"
            force_literal: false
            huffman: false
          }
          value {
            data: "1.1 google"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        header_list {
          name {
            data: "alt-svc"
            force_literal: false
            huffman: false
          }
          value {
            data: "clear"
            force_literal: false
            huffman: false
          }
          indexing: INCREMENTAL
        }
        end_stream: false
        end_headers: true
        priority: false
        stream_id: 5
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: "GIF89a\001\000\001\000\000\000\000!\371\004\001\n\000\001\000,\000\000\000\000\001\000\001\000\000\002\002L\001\000;"
        end_stream: false
        stream_id: 5
      }
    }
    frames {
      data_frame {
        pad_length: 0
        data: "GIF89a\001\000\001\000\000\000\000!\371\004\001\n\000\001\000,\000\000\000\000\001\000\001\000\000\002\002L\001\000;"
        end_stream: true
        stream_id: 5
      }
    }
    frames {
      ping_frame {
        opaque_data_lo: 0
        opaque_data_hi: 67108864
        ack: false
      }
    }
  }
}
